# C++ 程序结构

## 变量的类型

### 全局变量与局部变量。

**全局变量**是指定义在函数体外部的变量，它能被所有函数调用。**局部变量**是定义在函数体或者复合语句中的变量，它只能被本函数和复合语句调用。

### 变量的存储类型

1. auto 说明符

   auto说明符说明定义的是一个局部变量。函数中的局部变量，如果不使用关键字static加以声明，编译系统对他们是动态分配存储空间的。局部变量的默认存储类型为auto，所以在程序中很少使用auto说明。

2. register 说明符

   一般情况下，变量的值是存放在内存中的，当需要时由控制器发出指令将内存中该变量的值送到运算其中，经过运算器运算后，如果需要存储运算结果，再从运算器将数据送到内存存放。如果有些变量使用频繁，例如循环结构中的循环控制比那辆，反复存取内存将消耗较多时间，为了提高执行效率，C++允许将局部变量的值存放到CPU寄存器中，需要时直接从寄存器中取出来参加运算，不必到内存中存取，这种类型的局部变量陈伟寄存器变量，用关键字register声明。

3. extern 说明符

   一个完整的计算机程序很大，分成多个模块，放在不同的文件中，分开编译成目标文件，最后连接成一个完整的可执行代码。对于所有模块共同使用的局部变量，如果在所有的模块中都有定义，在连接时就会出错。办法是只在一个模块中定义该全局变量，在其他模块中用关键字extern来声明这是一个外来全局变量，即外部性变量声明。外部性变量的定义如下，其中标识符可以是变量名也可以是函数原型。

   ```c++
   extern datatype varible;
   ```

4. static 说明符

   如果希望变量在本函数调用结束后仍然存放在内存中，可被下次调用时继续使用，可以用static说明符将该函数声明为静态变量。

   ```c++
   void function() {
       static int n = 0;
       int m = 0;
       cout << n++ << "\t" << m++ << endl;
   }
   int main() {
       for (int i = 0; i < 5; i++) {
           function();
       }
       return 0;
   }
   ```

   本段代码的输出时m一直为1，n从1开始递增。

## 程序的文件结构与编译预处理命令

### 文件包含命令 #include

文件包含是指一个C++源程序通过#include命令将另一个文件（头文件，C语言或C++源文件）的全部内容包含进来。文件包含命令的一般格式如下

```c++
#include <headfile>
#include <cppfile>
```

编译时与编译器将被包含的文件内容插入到源程序中#include命令的位置，已形成新的源程序。一个大程序通常分为多个模块，并由多个程序员分别编程。有了文件包含处理功能能就可以将多个模块公用的数据或者函数集中到一个单独的文件中。这样，凡是要使用其中的数据或者调用其中的函数的程序员，只要使用文件包含处理功能将所需文件包含进来即可。

### 不带参数的宏定义

`#define`命令顶一个标识符来代替一个字符串。宏名需要用大写字母来定义，以便于区分变量名。

